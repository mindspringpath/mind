(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{4117:function(e,t,n){Promise.resolve().then(n.bind(n,5207))},5207:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f},dynamic:function(){return l},fetchCache:function(){return d}});var r=n(7437),a=n(2265),i=n(6463),s=n(819),c=n(7019),o=n(5733),u=n(3274);let l="force-dynamic",d="force-no-store";function f(){let e=(0,i.useRouter)(),[t,n]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[f,h]=(0,a.useState)(!1),[m,w]=(0,a.useState)(""),[p,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{await (0,s.ts)()&&e.replace("/dashboard")}catch(e){}})()},[e]);let y=async n=>{n.preventDefault(),w(""),x(!0);try{(await (0,s.zB)(t,l)).user?e.replace("/dashboard"):w("Login failed. Please try again.")}catch(t){let e=(null==t?void 0:t.message)||"";e.includes("Invalid login credentials")?w("Invalid email or password. Please try again."):e.includes("Email not confirmed")?w("Please verify your email before logging in."):e.includes("User not found")?w("No account found with this email."):e.includes("can only be called on the client side")?w("Login is only available in the browser."):w(e||"Login failed. Please try again.")}finally{x(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-charcoal text-softwhite",children:(0,r.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-6",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Welcome Back"}),(0,r.jsx)("p",{className:"text-softwhite/70",children:"Sign in to your MindSpring Path account"})]}),m&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-slate border border-red-500/40 text-red-300 rounded-xl",children:m}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-softwhite mb-2",children:"Email Address"}),(0,r.jsx)("input",{type:"email",className:"mindspring-input w-full",value:t,onChange:e=>n(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-softwhite mb-2",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:f?"text":"password",className:"mindspring-input w-full pr-12",value:l,onChange:e=>d(e.target.value),required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>h(!f),className:"absolute right-3 top-1/2 text-softwhite/60 hover:text-softwhite",children:f?(0,r.jsx)(c.Z,{}):(0,r.jsx)(o.Z,{})})]})]}),(0,r.jsx)("button",{type:"submit",disabled:p,className:"w-full bg-primary text-white py-3 rounded-lg font-medium",children:p?(0,r.jsx)(u.Z,{className:"w-5 h-5 animate-spin mx-auto"}):"Sign In"})]}),(0,r.jsxs)("div",{className:"text-center mt-6 space-y-2",children:[(0,r.jsxs)("p",{className:"text-softwhite/70",children:["Don't have an account?"," ",(0,r.jsx)("span",{onClick:()=>e.push("/auth/register"),className:"text-primary cursor-pointer hover:underline",children:"Sign Up"})]}),(0,r.jsx)("p",{className:"text-softwhite/70",children:(0,r.jsx)("span",{onClick:()=>e.push("/auth/forgot-password"),className:"text-primary cursor-pointer hover:underline",children:"Forgot Password?"})})]})]})})})}},819:function(e,t,n){"use strict";n.d(t,{OQ:function(){return r.O},c0:function(){return o},ts:function(){return c},v1:function(){return d},w7:function(){return s},wD:function(){return u},y1:function(){return a},zB:function(){return i},zQ:function(){return f}});var r=n(6881);async function a(e,t,n){let a="".concat(window.location.origin,"/auth/callback"),{data:i,error:s}=await r.O.auth.signUp({email:e,password:t,options:{data:{full_name:n},emailRedirectTo:a}});if(s)throw s;return i}async function i(e,t){let{data:n,error:a}=await r.O.auth.signInWithPassword({email:e,password:t});if(a)throw a;return n}async function s(){let{error:e}=await r.O.auth.signOut();if(e)throw e;return!0}async function c(){let{data:{user:e},error:t}=await r.O.auth.getUser();if(t)throw t;return e}async function o(e){let t="".concat(window.location.origin,"/auth/reset-password"),{data:n,error:a}=await r.O.auth.resetPasswordForEmail(e,{redirectTo:t});if(a)throw a;return n}async function u(e){let{data:t,error:n}=await r.O.from("appointments").select("*").eq("user_id",e).order("date",{ascending:!0}).order("time",{ascending:!0});if(n)throw n;return t||[]}async function l(e,t){let{data:n,error:a}=await r.O.from("appointments").update(t).eq("id",e).select().single();if(a)throw a;return n}async function d(e){return l(e,{status:"cancelled"})}async function f(e){let{data:t,error:n}=await r.O.from("program_enrolments").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]}},6881:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var r=n(7327),a=n(357);let i=a.env.NEXT_PUBLIC_SUPABASE_URL,s=a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,c=(0,r.eI)(i,s)},8030:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2265);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>!!e&&n.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:o,className:u="",children:l,iconNode:d,...f}=e;return(0,r.createElement)("svg",{ref:t,...s,width:a,height:a,stroke:n,strokeWidth:o?24*Number(c)/Number(a):c,className:i("lucide",u),...f},[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),o=(e,t)=>{let n=(0,r.forwardRef)((n,s)=>{let{className:o,...u}=n;return(0,r.createElement)(c,{ref:s,iconNode:t,className:i("lucide-".concat(a(e)),o),...u})});return n.displayName="".concat(e),n}},7019:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(8030).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},5733:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(8030).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3274:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(8030).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6463:function(e,t,n){"use strict";var r=n(1169);n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[149,971,23,744],function(){return e(e.s=4117)}),_N_E=e.O()}]);