(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48],{6211:function(e,t,n){Promise.resolve().then(n.bind(n,8720))},8720:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d},dynamic:function(){return l}});var s=n(7437),r=n(2265),a=n(6463),i=n(819),o=n(7019),c=n(5733),u=n(3274);let l="force-dynamic";function d(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),[n,l]=(0,r.useState)(""),[d,f]=(0,r.useState)(""),[h,m]=(0,r.useState)(!1),[w,p]=(0,r.useState)(!1),[x,y]=(0,r.useState)(""),[b,g]=(0,r.useState)(""),[N,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!t.get("code")){y("Invalid or expired reset token");return}},[t]);let j=async s=>{if(s.preventDefault(),y(""),g(""),n!==d){y("Passwords do not match");return}v(!0);try{t.get("code"),await (0,i.gQ)(n),g("Password has been reset successfully! You can now sign in with your new password."),setTimeout(()=>{e.replace("/auth/login")},2e3)}catch(e){y(e.message||"Failed to reset password. Please try again.")}finally{v(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-charcoal text-softwhite",children:(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-6",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Set New Password"}),(0,s.jsx)("p",{className:"text-softwhite/70",children:"Enter your new password below."})]}),x&&(0,s.jsx)("div",{className:"mb-4 p-4 bg-slate border border-red-500/40 text-red-300 rounded-xl",children:x}),b&&(0,s.jsx)("div",{className:"mb-4 p-4 bg-green-500/20 border border-green-500/40 text-green-300 rounded-xl",children:b}),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-softwhite mb-2",children:"New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"password",type:h?"text":"password",placeholder:"Enter new password",className:"mindspring-input w-full pr-12",value:n,onChange:e=>l(e.target.value),required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 text-softwhite/60 hover:text-softwhite",children:h?(0,s.jsx)(o.Z,{className:"w-5 h-5"}):(0,s.jsx)(c.Z,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-softwhite mb-2",children:"Confirm New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"confirmPassword",type:w?"text":"password",placeholder:"Confirm new password",className:"mindspring-input w-full pr-12",value:d,onChange:e=>f(e.target.value),required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>p(!w),className:"absolute right-3 top-1/2 text-softwhite/60 hover:text-softwhite",children:w?(0,s.jsx)(o.Z,{className:"w-5 h-5"}):(0,s.jsx)(c.Z,{className:"w-5 h-5"})})]})]}),(0,s.jsx)("button",{type:"submit",disabled:N,className:"w-full bg-primary text-white py-3 rounded-lg font-medium",children:N?(0,s.jsx)(u.Z,{className:"w-5 h-5 animate-spin mx-auto"}):"Reset Password"})]}),(0,s.jsx)("div",{className:"text-center mt-6",children:(0,s.jsxs)("p",{className:"text-softwhite/70",children:["Remember your password?"," ",(0,s.jsx)("span",{onClick:()=>e.push("/login"),className:"text-primary cursor-pointer hover:underline",children:"Sign In"})]})})]})})})}},819:function(e,t,n){"use strict";n.d(t,{Pc:function(){return u},Xi:function(){return m},c0:function(){return o},gQ:function(){return c},ts:function(){return i},v1:function(){return f},wD:function(){return l},y1:function(){return r},zB:function(){return a},zQ:function(){return h}});var s=n(6881);async function r(e,t,n){let r="".concat(window.location.origin,"/auth/callback"),{data:a,error:i}=await s.O.auth.signUp({email:e,password:t,options:{data:{full_name:n},emailRedirectTo:r}});if(i)throw i;return a}async function a(e,t){let{data:n,error:r}=await s.O.auth.signInWithPassword({email:e,password:t});if(r)throw r;return n}async function i(){let{data:{user:e},error:t}=await s.O.auth.getUser();if(t)throw t;return e}async function o(e){let t="".concat(window.location.origin,"/auth/reset-password"),{data:n,error:r}=await s.O.auth.resetPasswordForEmail(e,{redirectTo:t});if(r)throw r;return n}async function c(e){let{data:t,error:n}=await s.O.auth.updateUser({password:e});if(n)throw n;return t}async function u(e){let{data:t,error:n}=await s.O.from("appointments").insert(e).select().single();if(n)throw n;return t}async function l(e){let{data:t,error:n}=await s.O.from("appointments").select("*").eq("user_id",e).order("date",{ascending:!0}).order("time",{ascending:!0});if(n)throw n;return t||[]}async function d(e,t){let{data:n,error:r}=await s.O.from("appointments").update(t).eq("id",e).select().single();if(r)throw r;return n}async function f(e){return d(e,{status:"cancelled"})}async function h(e){let{data:t,error:n}=await s.O.from("program_enrolments").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]}async function m(e){return!0}},6881:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var s=n(7327),r=n(357);let a=r.env.NEXT_PUBLIC_SUPABASE_URL,i=r.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,o=(0,s.eI)(a,i)},7019:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(8030).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},5733:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(8030).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3274:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(8030).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6463:function(e,t,n){"use strict";var s=n(1169);n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[525,971,23,744],function(){return e(e.s=6211)}),_N_E=e.O()}]);