(()=>{var e={};e.id=64,e.ids=[64],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5773:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>l}),s(5610),s(8075),s(5866);var r=s(3191),n=s(8716),i=s(7922),o=s.n(i),a=s(5231),c={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>a[e]);s.d(t,c);let l=["",{children:["appointments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5610)),"C:\\Users\\uocxx\\Documents\\Web\\MindSpring\\app\\appointments\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8075)),"C:\\Users\\uocxx\\Documents\\Web\\MindSpring\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\uocxx\\Documents\\Web\\MindSpring\\app\\appointments\\page.tsx"],p="/appointments/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/appointments/page",pathname:"/appointments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4283:(e,t,s)=>{Promise.resolve().then(s.bind(s,7455))},8517:(e,t,s)=>{Promise.resolve().then(s.bind(s,4718))},7499:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},7455:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(326),n=s(7577),i=s(3116),o=s(434),a=s(772),c=s(7429);function l(){let[e,t]=(0,n.useState)(null),[s,l]=(0,n.useState)([]),[d,p]=(0,n.useState)(!0),[u,m]=(0,n.useState)(null);return d?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-charcoal",children:r.jsx("div",{className:"text-softwhite/80",children:"Loading your appointments..."})}):e?(0,r.jsxs)("div",{className:"min-h-screen bg-charcoal px-4 py-16",children:[(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-softwhite mb-8",children:"My Appointments"}),0===s.length&&(0,r.jsxs)("div",{className:"bg-slate/20 border border-graphite rounded-xl p-8 text-center",children:[r.jsx("p",{className:"text-softwhite/80 mb-6",children:"You have no booked sessions yet."}),r.jsx(o.default,{href:"/booking",children:r.jsx(a.z,{className:"btn-mindspring-primary px-6 py-3",children:"Book a Session"})})]}),r.jsx("div",{className:"space-y-6",children:s.map(e=>(0,r.jsxs)("div",{className:"bg-slate/20 border border-graphite rounded-xl p-6 shadow-md",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h2",{className:"text-xl font-semibold text-softwhite",children:e.session_type}),r.jsx("span",{className:"text-sm px-3 py-1 rounded-full "+("confirmed"===e.status?"bg-emerald-600/30 text-emerald-300":"cancelled"===e.status?"bg-red-600/30 text-red-300":"bg-amber-600/30 text-amber-200"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,r.jsxs)("p",{className:"text-softwhite/80",children:[r.jsx("strong",{children:"Date:"})," ",e.date]}),(0,r.jsxs)("p",{className:"text-softwhite/80",children:[r.jsx("strong",{children:"Time:"})," ",e.time]}),e.notes&&(0,r.jsxs)("p",{className:"text-softwhite/70 mt-2",children:[r.jsx("strong",{children:"Notes:"})," ",e.notes]}),"cancelled"!==e.status&&(0,r.jsxs)("div",{className:"mt-4 flex gap-3",children:[r.jsx(a.z,{variant:"outline",className:"btn-mindspring-outline",onClick:async()=>{if(!confirm("Cancel this appointment?"))return;let{error:t}=await i.OQ.from("appointments").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",e.id);if(t){alert("Could not cancel appointment.");return}await (0,c.C)({to:e.email,subject:"Your MindSpring Path Appointment Has Been Cancelled",html:`
                          <h2>Your appointment has been cancelled</h2>
                          <p><strong>Date:</strong> ${e.date}</p>
                          <p><strong>Time:</strong> ${e.time}</p>
                          <p><strong>Session Type:</strong> ${e.session_type}</p>
                          <br/>
                          <p>If this was a mistake, you can book again anytime.</p>
                          <p>MindSpring Path</p>
                        `}),await (0,c.C)({to:"info@mindspringpath.com.au",subject:"Appointment Cancelled",html:`
                          <h2>Appointment Cancelled</h2>
                          <p><strong>Name:</strong> ${e.full_name}</p>
                          <p><strong>Email:</strong> ${e.email}</p>
                          <p><strong>Date:</strong> ${e.date}</p>
                          <p><strong>Time:</strong> ${e.time}</p>
                          <p><strong>Session:</strong> ${e.session_type}</p>
                        `}),l(t=>t.map(t=>t.id===e.id?{...t,status:"cancelled"}:t))},children:"Cancel"}),r.jsx(a.z,{className:"btn-mindspring-primary",onClick:()=>m(e),children:"Reschedule"})]})]},e.id))})]}),u&&r.jsx(Object(function(){var e=Error("Cannot find module '@/components/booking/RescheduleModal'");throw e.code="MODULE_NOT_FOUND",e}()),{appt:u,onClose:()=>m(null),onUpdated:e=>l(t=>t.map(t=>t.id===e.id?e:t))})]}):(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-charcoal text-center px-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-softwhite mb-4",children:"You are not logged in"}),r.jsx("p",{className:"text-softwhite/70 mb-6",children:"Please log in to view your booked sessions."}),r.jsx(o.default,{href:"/login",children:r.jsx(a.z,{className:"btn-mindspring-primary px-6 py-3",children:"Login"})})]})}!function(){var e=Error("Cannot find module '@/components/booking/RescheduleModal'");throw e.code="MODULE_NOT_FOUND",e}()},4718:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(326),n=s(7577),i=s(9256);function o(){let[e,t]=(0,n.useState)(!1);return r.jsx("button",{type:"button",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Scroll to top",className:"fixed bottom-6 right-6 z-50 rounded-2xl border border-graphite bg-slate text-softwhite shadow-lg transition-all duration-300 "+(e?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 translate-y-2 pointer-events-none"),children:r.jsx("span",{className:"flex items-center justify-center w-12 h-12",children:r.jsx(i.Z,{className:"h-5 w-5"})})})}},772:(e,t,s)=>{"use strict";s.d(t,{z:()=>l});var r=s(326),n=s(7577),i=s(6438),o=s(9360),a=s(7863);let c=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline","mindspring-primary":"bg-primary text-primary-foreground font-semibold shadow-lg hover:bg-[color:#8B0000] transition-all duration-300","mindspring-secondary":"bg-transparent text-primary border-2 border-primary font-semibold hover:bg-primary/10 transition-all duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...o},l)=>{let d=n?i.g7:"button";return r.jsx(d,{className:(0,a.cn)(c({variant:t,size:s,className:e})),ref:l,...o})});l.displayName="Button"},3116:(e,t,s)=>{"use strict";s.d(t,{OQ:()=>r.O,c0:()=>c,ts:()=>a,v1:()=>d,w7:()=>o,y1:()=>n,zB:()=>i});var r=s(5442);async function n(e,t,s){throw Error("signUp can only be called on the client side")}async function i(e,t){throw Error("signIn can only be called on the client side")}async function o(){let{error:e}=await r.O.auth.signOut();if(e)throw e;return!0}async function a(){throw Error("getCurrentUser can only be called on the client side")}async function c(e){throw Error("resetPassword can only be called on the client side")}async function l(e,t){let{data:s,error:n}=await r.O.from("appointments").update(t).eq("id",e).select().single();if(n)throw n;return s}async function d(e){return l(e,{status:"cancelled"})}},7429:(e,t,s)=>{"use strict";s.d(t,{C:()=>i});var r=s(2466);let n=`
  <br/><br/>
  <p style="font-size: 12px; color: #888;">
    You received this email because your address was provided when booking or managing a session with MindSpring Path.
    If you believe this was sent in error, please disregard it or contact us at info@mindspringpath.com.au.
  </p>
`;async function i({to:e,subject:t,html:s}){let i=r.createTransport({host:process.env.SMTP_HOST,port:Number(process.env.SMTP_PORT),secure:!0,auth:{user:process.env.SMTP_USER,pass:process.env.SMTP_PASS}});await i.sendMail({from:`"MindSpring Path" <${process.env.SMTP_USER}>`,to:e,subject:t,html:s+n})}},5442:(e,t,s)=>{"use strict";s.d(t,{O:()=>o});var r=s(5157);let n=process.env.NEXT_PUBLIC_SUPABASE_URL,i=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,o=(0,r.eI)(n,i)},7863:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(1135),n=s(1009);function i(...e){return(0,n.m6)((0,r.W)(e))}},5610:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>i,default:()=>a});var r=s(8570);let n=(0,r.createProxy)(String.raw`C:\Users\uocxx\Documents\Web\MindSpring\app\appointments\page.tsx`),{__esModule:i,$$typeof:o}=n;n.default;let a=(0,r.createProxy)(String.raw`C:\Users\uocxx\Documents\Web\MindSpring\app\appointments\page.tsx#default`)},8075:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,dynamic:()=>p,revalidate:()=>u});var r=s(9510),n=s(7366),i=s.n(n);s(7272);var o=s(8570);let a=(0,o.createProxy)(String.raw`C:\Users\uocxx\Documents\Web\MindSpring\components\ScrollToTopButton.tsx`),{__esModule:c,$$typeof:l}=a;a.default;let d=(0,o.createProxy)(String.raw`C:\Users\uocxx\Documents\Web\MindSpring\components\ScrollToTopButton.tsx#default`),p="force-dynamic",u=0;function m({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:i().className,children:(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[e,r.jsx(d,{})]})})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[681,157,688,466],()=>s(5773));module.exports=r})();