(()=>{var e={};e.id=64,e.ids=[64],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5773:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(5610),s(8075),s(5866);var n=s(3191),r=s(8716),a=s(7922),i=s.n(a),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["appointments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5610)),"C:\\Users\\uocxx\\Documents\\Web\\MindSpring\\app\\appointments\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8075)),"C:\\Users\\uocxx\\Documents\\Web\\MindSpring\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\uocxx\\Documents\\Web\\MindSpring\\app\\appointments\\page.tsx"],u="/appointments/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/appointments/page",pathname:"/appointments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4283:(e,t,s)=>{Promise.resolve().then(s.bind(s,7455))},8517:(e,t,s)=>{Promise.resolve().then(s.bind(s,4718))},7499:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},7455:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(326),r=s(7577),a=s(3116),i=s(434),o=s(772),l=s(5729);function d(){let[e,t]=(0,r.useState)(null),[s,d]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[p,m]=(0,r.useState)(null);return c?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-charcoal",children:n.jsx("div",{className:"text-softwhite/80",children:"Loading your appointments..."})}):e?(0,n.jsxs)("div",{className:"min-h-screen bg-charcoal px-4 py-16",children:[(0,n.jsxs)("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-softwhite mb-8",children:"My Appointments"}),0===s.length&&(0,n.jsxs)("div",{className:"bg-slate/20 border border-graphite rounded-xl p-8 text-center",children:[n.jsx("p",{className:"text-softwhite/80 mb-6",children:"You have no booked sessions yet."}),n.jsx(i.default,{href:"/booking",children:n.jsx(o.z,{className:"btn-mindspring-primary px-6 py-3",children:"Book a Session"})})]}),n.jsx("div",{className:"space-y-6",children:s.map(e=>(0,n.jsxs)("div",{className:"bg-slate/20 border border-graphite rounded-xl p-6 shadow-md",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h2",{className:"text-xl font-semibold text-softwhite",children:e.session_type}),n.jsx("span",{className:"text-sm px-3 py-1 rounded-full "+("confirmed"===e.status?"bg-emerald-600/30 text-emerald-300":"cancelled"===e.status?"bg-red-600/30 text-red-300":"bg-amber-600/30 text-amber-200"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,n.jsxs)("p",{className:"text-softwhite/80",children:[n.jsx("strong",{children:"Date:"})," ",e.date]}),(0,n.jsxs)("p",{className:"text-softwhite/80",children:[n.jsx("strong",{children:"Time:"})," ",e.time]}),e.notes&&(0,n.jsxs)("p",{className:"text-softwhite/70 mt-2",children:[n.jsx("strong",{children:"Notes:"})," ",e.notes]}),"cancelled"!==e.status&&(0,n.jsxs)("div",{className:"mt-4 flex gap-3",children:[n.jsx(o.z,{variant:"outline",className:"btn-mindspring-outline",onClick:async()=>{if(!confirm("Cancel this appointment?"))return;let{error:t}=await a.OQ.from("appointments").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",e.id);if(t){alert("Could not cancel appointment.");return}await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({kind:"appointment_cancelled",appointment:e})}),d(t=>t.map(t=>t.id===e.id?{...t,status:"cancelled"}:t))},children:"Cancel"}),n.jsx(o.z,{className:"btn-mindspring-primary",onClick:()=>m(e),children:"Reschedule"})]})]},e.id))})]}),p&&n.jsx(l.Z,{appt:p,onClose:()=>m(null),onUpdated:e=>d(t=>t.map(t=>t.id===e.id?e:t))})]}):(0,n.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-charcoal text-center px-4",children:[n.jsx("h1",{className:"text-3xl font-bold text-softwhite mb-4",children:"You are not logged in"}),n.jsx("p",{className:"text-softwhite/70 mb-6",children:"Please log in to view your booked sessions."}),n.jsx(i.default,{href:"/login",children:n.jsx(o.z,{className:"btn-mindspring-primary px-6 py-3",children:"Login"})})]})}},4718:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var n=s(326),r=s(7577),a=s(9256);function i(){let[e,t]=(0,r.useState)(!1);return n.jsx("button",{type:"button",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Scroll to top",className:"fixed bottom-6 right-6 z-50 rounded-2xl border border-graphite bg-slate text-softwhite shadow-lg transition-all duration-300 "+(e?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 translate-y-2 pointer-events-none"),children:n.jsx("span",{className:"flex items-center justify-center w-12 h-12",children:n.jsx(a.Z,{className:"h-5 w-5"})})})}},5729:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s(326),r=s(7577),a=s(772),i=s(3116);function o({appt:e,onClose:t,onUpdated:s}){let[o,l]=(0,r.useState)(e?.date??""),[d,c]=(0,r.useState)(e?.time??""),[u,p]=(0,r.useState)(!1),m=async()=>{p(!0);let{data:n,error:r}=await i.OQ.from("appointments").update({date:o,time:d,updated_at:new Date().toISOString()}).eq("id",e.id).select("*").single();if(p(!1),r){alert("Could not reschedule appointment.");return}s(n),t()};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4",children:(0,n.jsxs)("div",{className:"w-full max-w-lg rounded-2xl border border-graphite bg-charcoal p-6 shadow-xl",children:[n.jsx("h2",{className:"text-xl font-semibold text-softwhite mb-4",children:"Reschedule"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-softwhite/70 mb-1",children:"Date"}),n.jsx("input",{value:o,onChange:e=>l(e.target.value),className:"w-full rounded-md bg-graphite/40 border border-graphite px-3 py-2 text-softwhite",placeholder:"YYYY-MM-DD"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-softwhite/70 mb-1",children:"Time"}),n.jsx("input",{value:d,onChange:e=>c(e.target.value),className:"w-full rounded-md bg-graphite/40 border border-graphite px-3 py-2 text-softwhite",placeholder:"HH:MM"})]})]}),(0,n.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[n.jsx(a.z,{variant:"outline",className:"btn-mindspring-outline",onClick:t,children:"Close"}),n.jsx(a.z,{className:"btn-mindspring-primary",onClick:m,disabled:u,children:u?"Saving...":"Save"})]})]})})}},772:(e,t,s)=>{"use strict";s.d(t,{z:()=>d});var n=s(326),r=s(7577),a=s(6438),i=s(9360),o=s(7863);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline","mindspring-primary":"bg-primary text-primary-foreground font-semibold shadow-lg hover:bg-[color:#8B0000] transition-all duration-300","mindspring-secondary":"bg-transparent text-primary border-2 border-primary font-semibold hover:bg-primary/10 transition-all duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...i},d)=>{let c=r?a.g7:"button";return n.jsx(c,{className:(0,o.cn)(l({variant:t,size:s,className:e})),ref:d,...i})});d.displayName="Button"},3116:(e,t,s)=>{"use strict";s.d(t,{OQ:()=>n.O,c0:()=>l,ts:()=>o,v1:()=>c,w7:()=>i,y1:()=>r,zB:()=>a});var n=s(5442);async function r(e,t,s){throw Error("signUp can only be called on the client side")}async function a(e,t){throw Error("signIn can only be called on the client side")}async function i(){let{error:e}=await n.O.auth.signOut();if(e)throw e;return!0}async function o(){throw Error("getCurrentUser can only be called on the client side")}async function l(e){throw Error("resetPassword can only be called on the client side")}async function d(e,t){let{data:s,error:r}=await n.O.from("appointments").update(t).eq("id",e).select().single();if(r)throw r;return s}async function c(e){return d(e,{status:"cancelled"})}},5442:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var n=s(5157);let r=process.env.NEXT_PUBLIC_SUPABASE_URL,a=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,i=(0,n.eI)(r,a)},7863:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var n=s(1135),r=s(1009);function a(...e){return(0,r.m6)((0,n.W)(e))}},5610:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>o});var n=s(8570);let r=(0,n.createProxy)(String.raw`C:\Users\uocxx\Documents\Web\MindSpring\app\appointments\page.tsx`),{__esModule:a,$$typeof:i}=r;r.default;let o=(0,n.createProxy)(String.raw`C:\Users\uocxx\Documents\Web\MindSpring\app\appointments\page.tsx#default`)},8075:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,dynamic:()=>u,revalidate:()=>p});var n=s(9510),r=s(7366),a=s.n(r);s(7272);var i=s(8570);let o=(0,i.createProxy)(String.raw`C:\Users\uocxx\Documents\Web\MindSpring\components\ScrollToTopButton.tsx`),{__esModule:l,$$typeof:d}=o;o.default;let c=(0,i.createProxy)(String.raw`C:\Users\uocxx\Documents\Web\MindSpring\components\ScrollToTopButton.tsx#default`),u="force-dynamic",p=0;function m({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:a().className,children:(0,n.jsxs)("div",{className:"min-h-screen bg-background",children:[e,n.jsx(c,{})]})})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[948,509,157,688],()=>s(5773));module.exports=n})();