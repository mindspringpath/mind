(()=>{var e={};e.id=355,e.ids=[355],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4691:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>c,originalPathname:()=>d,pages:()=>p,routeModule:()=>u,tree:()=>m}),s(7256),s(8075),s(5866);var n=s(3191),o=s(8716),i=s(7922),r=s.n(i),a=s(5231),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let m=["",{children:["booking",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7256)),"C:\\Users\\uocxx\\Documents\\Web\\MindSpring\\app\\booking\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8075)),"C:\\Users\\uocxx\\Documents\\Web\\MindSpring\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\uocxx\\Documents\\Web\\MindSpring\\app\\booking\\page.tsx"],d="/booking/page",c={require:s,loadChunk:()=>Promise.resolve()},u=new n.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/booking/page",pathname:"/booking",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:m}})},1573:(e,t,s)=>{Promise.resolve().then(s.bind(s,5659)),Promise.resolve().then(s.bind(s,4503)),Promise.resolve().then(s.t.bind(s,9404,23))},5659:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var n=s(326),o=s(7577),i=s(3116),r=s(772),a=s(5047),l=s(7429);function m(){let e=(0,a.useRouter)(),[t,s]=(0,o.useState)(null),[m,p]=(0,o.useState)(!0),[d,c]=(0,o.useState)(!1),[u,x]=(0,o.useState)({fullName:"",email:"",phone:"",notes:"",date:"",time:"",sessionType:"Initial Consultation"}),h=e=>{let{name:t,value:s}=e.target;x(e=>({...e,[t]:s}))},g=async t=>{t.preventDefault(),c(!0);try{let t=await (0,i.ts)(),{data:s,error:n}=await i.OQ.from("appointments").select("id").eq("date",u.date).eq("time",u.time).neq("status","cancelled");if(n)throw n;if(s&&s.length>0){alert("This time slot is already booked. Please choose another time."),c(!1);return}let{data:o,error:r}=await i.OQ.from("appointments").insert({user_id:t?.id||null,full_name:u.fullName,email:u.email,phone:u.phone,notes:u.notes,date:u.date,time:u.time,session_type:u.sessionType,status:"pending"});if(r)throw r;await (0,l.C)({to:u.email,subject:"Your MindSpring Path Session is Booked",html:`
          <h2>Your session is confirmed</h2>
          <p><strong>Session Type:</strong> ${u.sessionType}</p>
          <p><strong>Date:</strong> ${u.date}</p>
          <p><strong>Time:</strong> ${u.time}</p>
          <br/>
          <p>We look forward to supporting your journey.</p>
          <p>MindSpring Path</p>
        `}),await (0,l.C)({to:"info@mindspringpath.com.au",subject:"New Appointment Booked",html:`
          <h2>New Booking</h2>
          <p><strong>Name:</strong> ${u.fullName}</p>
          <p><strong>Email:</strong> ${u.email}</p>
          <p><strong>Phone:</strong> ${u.phone}</p>
          <p><strong>Session:</strong> ${u.sessionType}</p>
          <p><strong>Date:</strong> ${u.date}</p>
          <p><strong>Time:</strong> ${u.time}</p>
        `}),e.push("/booking/success")}catch(e){alert("Something went wrong while booking your session.")}c(!1)};return(0,n.jsxs)("form",{onSubmit:g,className:"space-y-6 bg-charcoal p-6 rounded-xl border border-graphite",children:[n.jsx("h2",{className:"text-2xl font-bold text-softwhite mb-4",children:"Book Your Session"}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-softwhite/80 mb-1",children:"Full Name"}),n.jsx("input",{type:"text",name:"fullName",value:u.fullName,onChange:h,required:!0,className:"input-mindspring"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-softwhite/80 mb-1",children:"Email"}),n.jsx("input",{type:"email",name:"email",value:u.email,onChange:h,required:!0,className:"input-mindspring"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-softwhite/80 mb-1",children:"Phone"}),n.jsx("input",{type:"text",name:"phone",value:u.phone,onChange:h,className:"input-mindspring"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-softwhite/80 mb-1",children:"Date"}),n.jsx("input",{type:"date",name:"date",value:u.date,onChange:h,required:!0,className:"input-mindspring"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-softwhite/80 mb-1",children:"Time"}),n.jsx("input",{type:"time",name:"time",value:u.time,onChange:h,required:!0,className:"input-mindspring"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-softwhite/80 mb-1",children:"Session Type"}),(0,n.jsxs)("select",{name:"sessionType",value:u.sessionType,onChange:h,className:"input-mindspring",children:[n.jsx("option",{children:"Initial Consultation"}),n.jsx("option",{children:"Follow-Up Session"}),n.jsx("option",{children:"12-Week Program Session"})]})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-softwhite/80 mb-1",children:"Notes (optional)"}),n.jsx("textarea",{name:"notes",value:u.notes,onChange:h,className:"input-mindspring h-24"})]}),n.jsx(r.z,{type:"submit",disabled:d,className:"btn-mindspring-primary w-full py-3",children:d?"Booking...":"Confirm Booking"})]})}},7429:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError: \n  \x1b[31mx\x1b[0m You're importing a component that needs server-only. That only works in a Server Component which is not supported in the pages/ directory. Read more: https://nextjs.org/docs/getting-started/\n  \x1b[31m|\x1b[0m react-essentials#server-components\n  \x1b[31m|\x1b[0m \n  \x1b[31m|\x1b[0m \n   ,-[\x1b[36;1;4mC:\\Users\\uocxx\\Documents\\Web\\MindSpring\\lib\\email.ts\x1b[0m:1:1]\n \x1b[2m1\x1b[0m | import 'server-only'\n   : \x1b[31;1m^^^^^^^^^^^^^^^^^^^^\x1b[0m\n \x1b[2m2\x1b[0m | import nodemailer from 'nodemailer'\n \x1b[2m3\x1b[0m | \n \x1b[2m3\x1b[0m | /**\r\n   `----\n")},5047:(e,t,s)=>{"use strict";var n=s(7389);s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},7256:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(9510),o=s(8585),i=s(4419),r=s(8570);let a=(0,r.createProxy)(String.raw`C:\Users\uocxx\Documents\Web\MindSpring\components\booking\BookingForm.tsx`),{__esModule:l,$$typeof:m}=a;a.default;let p=(0,r.createProxy)(String.raw`C:\Users\uocxx\Documents\Web\MindSpring\components\booking\BookingForm.tsx#default`);function d(){return(0,n.jsxs)("div",{className:"min-h-screen bg-charcoal",children:[n.jsx(o.ZP,{}),n.jsx("main",{className:"py-12",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-softwhite mb-4 tracking-tight",children:"Book Your Session"}),n.jsx("p",{className:"text-lg md:text-xl text-softwhite/70",children:"Schedule your evidence-based coaching session"})]}),n.jsx(p,{})]})}),n.jsx(i.Z,{})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[948,509,157,688,624,975],()=>s(4691));module.exports=n})();